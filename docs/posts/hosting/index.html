<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>上がる/posts/hosting/</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">
    <meta name="googlebot" content="index,follow,snippet,archive">
    <link rel="stylesheet" href="https://www.agaru.be/hugo-theme-console/css/terminal-0.7.1.min.css">
    <link rel="stylesheet" href="https://www.agaru.be/hugo-theme-console/css/animate-3.7.2.min.css">
    <link rel="stylesheet" href="https://www.agaru.be/hugo-theme-console/css/console.css">
    
      <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
    <link rel="apple-touch-icon" sizes="180x180" href="https://www.agaru.be/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.agaru.be/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.agaru.be/favicons//favicon-16x16.png">
<link rel="manifest" href="https://www.agaru.be/favicons/site.webmanifest">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff"><meta property="og:title" content="Hosting" />
<meta property="og:description" content="Hosting agaru" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.agaru.be/posts/hosting/" /><meta property="article:published_time" content="2021-03-01T00:00:00+00:00" />



<meta name="twitter:title" content="Hosting"/>
<meta name="twitter:description" content="Hosting agaru"/>

<script type="text/javascript">
    var sdkInstance="appInsightsSDK";window[sdkInstance]="appInsights";var aiName=window[sdkInstance],aisdk=window[aiName]||function(e){
       function n(e){t[e]=function(){var n=arguments;t.queue.push(function(){t[e].apply(t,n)})}}var t={config:e};t.initialize=!0;var i=document,a=window;setTimeout(function(){var n=i.createElement("script");n.src=e.url||"https://az416426.vo.msecnd.net/next/ai.2.min.js",i.getElementsByTagName("script")[0].parentNode.appendChild(n)});try{t.cookie=i.cookie}catch(e){}t.queue=[],t.version=2;for(var r=["Event","PageView","Exception","Trace","DependencyData","Metric","PageViewPerformance"];r.length;)n("track"+r.pop());n("startTrackPage"),n("stopTrackPage");var s="Track"+r[0];if(n("start"+s),n("stop"+s),n("setAuthenticatedUserContext"),n("clearAuthenticatedUserContext"),n("flush"),!(!0===e.disableExceptionTracking||e.extensionConfig&&e.extensionConfig.ApplicationInsightsAnalytics&&!0===e.extensionConfig.ApplicationInsightsAnalytics.disableExceptionTracking)){n("_"+(r="onerror"));var o=a[r];a[r]=function(e,n,i,a,s){var c=o&&o(e,n,i,a,s);return!0!==c&&t["_"+r]({message:e,url:n,lineNumber:i,columnNumber:a,error:s}),c},e.autoExceptionInstrumented=!0}return t
    }({
       instrumentationKey:"a88dd514-b911-4b59-b01e-7c442c3a0def"
    });
 
    window[aiName]=aisdk,aisdk.queue&&0===aisdk.queue.length&&aisdk.trackPageView({});
 </script></head>
<body class="terminal">
    <div class="container">
        <div class="terminal-nav">
          <header class="terminal-logo">
            <div class="logo terminal-prompt">
              
              
              <a href="https://www.agaru.be/" class="no-style ">上がる</a>:~# 
              <a href='https://www.agaru.be/posts'>posts</a>/<a href='https://www.agaru.be/posts/hosting'>hosting</a>/</div></header>
          <nav class="terminal-menu">
            <ul vocab="https://schema.org/" typeof="BreadcrumbList">
                
                <li><a href="https://www.agaru.be/about/" typeof="ListItem">about/</a></li>
                
                <li><a href="https://www.agaru.be/posts/" typeof="ListItem">posts/</a></li>
                
                <li><a href="https://www.agaru.be/mixtape/" typeof="ListItem">mixtape/</a></li>
                
            </ul>
          </nav>
        </div>
    </div>

    <div class="container animated fadeIn fast" >
        
<h1>Hosting</h1>

Mar. 1, 2021
<br/><br/>
<h2 id="welcome">Welcome</h2>
<p>Here&rsquo;s a first post about this webiste.</p>
<h2 id="intro">Intro</h2>
<p>Tools:</p>
<ul>
<li><a href="https://gohugo.io/">Hugo</a></li>
<li><a href="https://azure.microsoft.com/fr-fr/services/app-service/static/">Azure Statis Web Apps</a></li>
<li><a href="https://github.com">Github</a></li>
<li><a href="https://code.visualstudio.com/">VScode</a></li>
<li><a href="https://daringfireball.net/projects/markdown/">Markdown</a></li>
</ul>
<p>Hugo is an open-source static site generators based on Markdown. It allows you to generate static pages that requieres very few resources to serve. There will be some html, some css and some JS, and that&rsquo;s pretty much it. This will garantee an easy to maintain and very responsive website.</p>
<h2 id="hugo">Hugo</h2>
<p>Installation is pretty easy: <a href="https://gohugo.io/getting-started/installing">https://gohugo.io/getting-started/installing</a></p>
<p>Once done, simply generate a new website: <code>hugo new site newsite</code> and you&rsquo;re ready to go.</p>
<p>Now we&rsquo;ll add a theme from the <a href="https://themes.gohugo.io/">themes repo of HUGO</a>, simply follow the steps in the theme doc to install it and configure you&rsquo;re site.</p>
<p>You can preview your site using <code>hugo server -d</code> and browse your localhost.</p>
<p>Once it&rsquo;s ready, generate your site using <code>hugo</code>and push the files in your repo.</p>
<h2 id="azure">Azure</h2>
<p>For the hosting, you can use <a href="https://pages.github.com/">git pages</a> but I wanted to try the new <a href="https://azure.microsoft.com/en-us/services/app-service/static/">Azure Static App Service</a>. Both options are free, for now.</p>
<p>Azure Static App Service will generate ssl certificate for you for free once you <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/custom-domain">add a custome domain</a>.</p>
<p>Now, let&rsquo;s automate deployment with git actions!</p>
<h2 id="git-workflow--deploy">Git workflow &amp; deploy</h2>
<p>I don&rsquo;t want to copy the files on the static wep app each time, it&rsquo;s gonna be a pain. My code is on github and I&rsquo;m using git actions to automate deployment. Instead of managing content in a CMS like it&rsquo;s done with Wordpress or Drupal, you&rsquo;ll have to generate content with HUGO and push the new files in the repo.</p>
<p>While creating my static web app, I&rsquo;ll just link it to my GitHub like this:
<img src="webappstatic.png" alt="screenshot du portail azure"></p>
<p>As you can see, HUGO is already in the preset, which makes things a breeze.</p>
<p>Now, Azure is gonna generate a yaml file in my repo, generate and configure the spn with the good rights and configure the git action for me.</p>
<p>Now, all you need to do is push a new version of you site generated with HUGO in your repo and voilà!</p>


        <div class="footer">
    <img src="https://www.agaru.be/img/footer.png">
    上がる! 2020 - 2021 - <a href="https://www.agaru.be/index.xml">RSS</a>
    
</div>

    </div>
  </body>
</html>
